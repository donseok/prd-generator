# 차량 계량대 시스템 재구축 PRD

**버전**: 1.0 | **상태**: draft | **신뢰도**: 92%
**생성일**: 2026-01-26 10:00

## 1. 개요

### 배경
현재 운영 중인 계량대 시스템은 2008년 도입 후 15년 이상 운영된 DOS 기반 레거시 시스템으로, 유지보수 인력 확보가 어렵고 수기 대장 작성 병행으로 인한 업무 비효율이 발생하고 있습니다. 운전기사의 평균 대기 시간이 45분에 달하여 지속적인 민원이 발생하고 있으며, 데이터 정합성 문제와 오기입으로 인한 업무 부담이 가중되고 있습니다. 이에 기존 계량대 인디케이터(저울)는 유지하면서 웹 기반 관리 시스템과 모바일 앱을 신규 구축하여 업무 효율화 및 고객 만족도 향상을 도모합니다.

### 목표
- 웹 기반 관리 시스템 구축 (실시간 대시보드, 현황조회, 통계 리포트)
- 운전기사용 모바일 앱 개발 (대기순번 확인, 푸시 알림, 전자 전표)
- 기존 인디케이터 3대와의 RS-232 연동 및 데이터 자동 수집
- ERP 시스템 연동을 통한 일 마감 데이터 자동 전송
- 전광판 연동을 통한 대기 순번 실시간 표시
- 운전기사 대기 시간 단축 및 민원 해소

### 범위
본 프로젝트는 차량 계량대 시스템의 현대화를 위한 웹 관리 시스템, 운전기사용 모바일 앱(iOS/Android), 현장 엣지 서버를 통한 인디케이터 연동, ERP 및 전광판 연동을 포함합니다. 클라우드(AWS) 기반 인프라를 구축하며, 기존 계량대 인디케이터 장비는 그대로 활용합니다.

### 범위 외
- 인디케이터(저울) 장비 교체
- ERP 시스템 자체 개선
- 계량대 현장 시설 공사
- 타 사업장 확장 (향후 검토)

### 대상 사용자
- 관리자/계량팀: 웹 시스템을 통한 계량 관리, 통계 조회, 차량/기사 관리
- 운전기사: 모바일 앱을 통한 대기 순번 확인, 계량 결과 조회, 전자 전표 확인
- IT 운영팀: 시스템 모니터링 및 유지보수

### 성공 지표
- 운전기사 평균 대기 시간 45분 → 20분 이하로 단축
- 수기 전표 발행 0건 (100% 전자화)
- 데이터 오류율 5% → 0.1% 이하
- 시스템 가용성 99.5% 이상
- 앱 화면 로딩 3초 이내

## 2. 기능 요구사항 (FR)

### FR-001: 실시간 계량 현황 대시보드
**우선순위**: HIGH | **신뢰도**: 95%
**출처**: 킥오프_회의록.txt [웹 시스템 - 관리자용] (L63-68), 요구사항_정의서.csv (REQ-001)

계량대 3개의 현재 상태(대기/계량중/완료)를 실시간으로 표시하고, 금일 처리 건수, 대기 차량 수, 평균 처리 시간 등 핵심 지표를 대시보드에 표시합니다. 5초 간격으로 자동 갱신됩니다.

**User Story**: 관리자로서, 실시간 계량 현황을 한눈에 파악하고 싶습니다. 그래야 현장 상황을 신속하게 인지하고 대응할 수 있습니다.

**Acceptance Criteria**:
- [ ] 계량대 3개의 상태가 실시간으로 표시됨
- [ ] 금일 총 계량 건수, 처리 완료 건수가 표시됨
- [ ] 현재 대기 중인 차량 수가 표시됨
- [ ] 평균 처리 시간이 계산되어 표시됨
- [ ] 5초 간격으로 자동 갱신됨

### FR-002: 일간/주간/월간 통계 리포트
**우선순위**: HIGH | **신뢰도**: 90%
**출처**: 킥오프_회의록.txt (L65), 요구사항_정의서.csv (REQ-002, REQ-003)

일간, 주간, 월간 단위의 계량 통계 리포트를 생성합니다. 시간대별 분포, 차량별 통계, 전기 대비 비교, 추세 분석 등을 포함하며 엑셀/PDF 형식으로 다운로드할 수 있습니다.

**User Story**: 계량팀 팀장으로서, 기간별 통계 리포트를 확인하고 싶습니다. 그래야 운영 현황을 분석하고 개선점을 도출할 수 있습니다.

**Acceptance Criteria**:
- [ ] 일간 통계 리포트가 생성됨
- [ ] 주간 통계 리포트 및 전주 대비 비교가 표시됨
- [ ] 월간 통계 리포트 및 추세 분석이 제공됨
- [ ] 엑셀/PDF 형식으로 다운로드 가능

### FR-003: 차량 정보 관리
**우선순위**: HIGH | **신뢰도**: 95%
**출처**: 기능_명세서.json (WEB-003), 요구사항_정의서.csv (REQ-004)

차량번호, 차종, 공차중량, 최대적재량, 소속회사 정보를 등록/수정/삭제할 수 있습니다. 비활성화된 차량은 삭제 대신 비활성 처리됩니다.

**User Story**: 관리자로서, 차량 정보를 등록하고 관리하고 싶습니다. 그래야 계량 시 차량 정보가 자동으로 연계됩니다.

**Acceptance Criteria**:
- [ ] 차량 신규 등록이 가능함
- [ ] 등록된 차량 정보 수정이 가능함
- [ ] 차량 비활성화(논리적 삭제)가 가능함
- [ ] 차량 목록 조회 및 검색이 가능함

### FR-004: 운전기사 정보 관리
**우선순위**: HIGH | **신뢰도**: 95%
**출처**: 기능_명세서.json (WEB-003-03, WEB-003-04), 요구사항_정의서.csv (REQ-005)

운전기사 이름, 연락처, 소속회사, 담당 차량 정보를 관리합니다. 모바일 앱 로그인용 계정을 자동 생성하고 SMS로 안내합니다.

**User Story**: 관리자로서, 운전기사 정보를 등록하고 앱 계정을 발급하고 싶습니다. 그래야 운전기사가 모바일 앱을 사용할 수 있습니다.

**Acceptance Criteria**:
- [ ] 운전기사 정보 등록/수정이 가능함
- [ ] 담당 차량 연결이 가능함
- [ ] 모바일 앱 계정 자동 생성됨
- [ ] 계정 정보 SMS 발송됨

### FR-005: 계량 이력 조회 및 엑셀 다운로드
**우선순위**: HIGH | **신뢰도**: 95%
**출처**: 기능_명세서.json (WEB-002), 요구사항_정의서.csv (REQ-006, REQ-007)

기간별, 차량별, 운전기사별 조건으로 계량 이력을 조회합니다. 개별 계량 건의 상세 정보(총중량, 공차중량, 순중량, 계량시간 등)를 확인하고 조회 결과를 엑셀 파일로 다운로드할 수 있습니다.

**User Story**: 계량팀 담당자로서, 계량 이력을 다양한 조건으로 검색하고 엑셀로 내보내고 싶습니다. 그래야 데이터 분석 및 보고서 작성이 용이합니다.

**Acceptance Criteria**:
- [ ] 기간, 차량번호, 운전기사 조건 검색이 가능함
- [ ] 계량 상세 정보(총중량, 공차, 순중량, 시간) 확인 가능
- [ ] 조회 결과 엑셀 다운로드 가능
- [ ] 오류 데이터 수정 기능 (권한자 한정)

### FR-006: 대기 순번 실시간 확인 (모바일)
**우선순위**: HIGH | **신뢰도**: 98%
**출처**: 운전기사_인터뷰.md (핵심 요청사항 1순위), 기능_명세서.json (APP-001), 요구사항_정의서.csv (REQ-009)

운전기사가 모바일 앱에서 현재 자신의 대기 순번 및 앞 대기 차량 수를 실시간으로 확인합니다. 평균 처리 시간 기반 예상 대기 시간도 표시됩니다.

**User Story**: 운전기사로서, 내 대기 순번을 실시간으로 확인하고 싶습니다. 그래야 차에서 편하게 대기하다가 내 차례에 맞춰 이동할 수 있습니다.

**Acceptance Criteria**:
- [ ] 현재 대기 순번이 실시간으로 표시됨
- [ ] 앞 대기 차량 수가 표시됨
- [ ] 예상 대기 시간이 계산되어 표시됨
- [ ] 오프라인 시 마지막 조회 정보 캐싱

> 원문: "순번을 모르는 게 제일 불편해요. 전광판이 있긴 한데 멀리서 안 보이고..."

### FR-007: 순번 푸시 알림 (모바일)
**우선순위**: HIGH | **신뢰도**: 98%
**출처**: 운전기사_인터뷰.md (핵심 요청사항), 기능_명세서.json (APP-001-03, APP-001-04), 요구사항_정의서.csv (REQ-010)

자기 차례 3순번 전 푸시 알림을 발송하고, 자기 차례가 되면 푸시 알림 및 진동으로 알립니다.

**User Story**: 운전기사로서, 내 순번이 가까워지면 알림을 받고 싶습니다. 그래야 차에서 대기하다가 적절한 시점에 이동할 수 있습니다.

**Acceptance Criteria**:
- [ ] 3순번 전 푸시 알림 발송
- [ ] 내 차례 도래 시 푸시 알림 및 진동
- [ ] 알림 설정 ON/OFF 가능
- [ ] FCM(Firebase Cloud Messaging) 기반

### FR-008: 전자 전표 확인 및 공유 (모바일)
**우선순위**: HIGH | **신뢰도**: 95%
**출처**: 운전기사_인터뷰.md (7/8명 요청), 기능_명세서.json (APP-003), 요구사항_정의서.csv (REQ-013, REQ-014)

계량 완료 후 생성된 전자 전표를 앱에서 확인합니다. 카카오톡, 문자, 이메일로 전표를 공유하거나 이미지(PNG)로 단말기에 저장할 수 있습니다.

**User Story**: 운전기사로서, 계량 전표를 앱에서 바로 확인하고 회사에 공유하고 싶습니다. 그래야 수기 전표의 가독성 문제와 분실 위험이 없어집니다.

**Acceptance Criteria**:
- [ ] 계량 완료 후 전자 전표 자동 생성
- [ ] 앱 내 전표 조회 가능
- [ ] 카카오톡/문자/이메일 공유 가능
- [ ] 이미지(PNG)로 저장 가능

> 원문: "전표를 수기로 받는데 글씨가 잘 안 보일 때가 많아요..."

### FR-009: 계량 결과 조회 (모바일)
**우선순위**: HIGH | **신뢰도**: 92%
**출처**: 기능_명세서.json (APP-002), 요구사항_정의서.csv (REQ-011, REQ-012)

오늘 진행한 계량의 총중량/공차중량/순중량을 확인하고, 최근 30일 계량 이력을 조회합니다.

**User Story**: 운전기사로서, 오늘 계량 결과와 과거 이력을 확인하고 싶습니다. 그래야 기록을 관리하고 필요시 참조할 수 있습니다.

**Acceptance Criteria**:
- [ ] 금일 계량 결과 표시
- [ ] 최근 30일 이력 조회 가능
- [ ] 개별 계량 상세 정보 확인 가능

### FR-010: 인디케이터(저울) 연동
**우선순위**: HIGH | **신뢰도**: 90%
**출처**: 킥오프_회의록.txt (L77), 기능_명세서.json (연동시스템.인디케이터), 요구사항_정의서.csv (REQ-015)

기존 3대 인디케이터(A사 2대, B사 1대)에서 RS-232 시리얼 통신으로 계량 데이터(총중량, 안정상태, 계량일시)를 수신합니다. 엣지 서버에서 데이터를 수집하여 중앙 서버로 전송합니다.

**User Story**: 시스템으로서, 인디케이터에서 계량 데이터를 자동으로 수집하고 싶습니다. 그래야 수동 입력 없이 정확한 데이터가 기록됩니다.

**Acceptance Criteria**:
- [ ] A사 인디케이터 2대 연동
- [ ] B사 인디케이터 1대 연동
- [ ] RS-232 시리얼 통신 데이터 수신
- [ ] 엣지 서버에서 중앙 서버로 API 전송
- [ ] 오프라인 시 로컬 버퍼링

### FR-011: ERP 시스템 연동
**우선순위**: MEDIUM | **신뢰도**: 88%
**출처**: 이메일_스레드.txt (미팅 결과), 기능_명세서.json (연동시스템.ERP), 요구사항_정의서.csv (REQ-016)

일 마감 시점에 계량 데이터를 REST API로 ERP 시스템에 자동 전송합니다. JSON 배열로 일괄 전송하며 최대 1,000건 단위로 페이징합니다.

**User Story**: 시스템으로서, 일 마감 데이터를 ERP에 자동 전송하고 싶습니다. 그래야 수동 작업 없이 기간계 시스템과 연동됩니다.

**Acceptance Criteria**:
- [ ] 일 1회 마감 배치 전송
- [ ] REST API 방식 연동
- [ ] OAuth 2.0 인증
- [ ] 전송 실패 시 재시도 처리
- [ ] 필수 필드: 계량일시, 차량번호, 총중량, 공차중량, 순중량, 계량대ID, 전표번호

### FR-012: 전광판 연동
**우선순위**: HIGH | **신뢰도**: 90%
**출처**: 킥오프_회의록.txt (L79), 기능_명세서.json (연동시스템.전광판), 요구사항_정의서.csv (REQ-017)

대기 순번을 기존 전광판에 TCP/IP로 표시합니다. 현재 호출 순번과 다음 대기 순번 3개를 표시합니다.

**User Story**: 시스템으로서, 대기 순번을 전광판에 자동 표시하고 싶습니다. 그래야 앱 미설치 운전기사도 순번을 확인할 수 있습니다.

**Acceptance Criteria**:
- [ ] TCP/IP 통신으로 전광판 연동
- [ ] 현재 호출 순번 표시
- [ ] 다음 대기 순번 3개 표시
- [ ] 실시간 갱신

### FR-013: 이상치 알림
**우선순위**: MEDIUM | **신뢰도**: 85%
**출처**: 요구사항_정의서.csv (REQ-008)

설정한 임계값 초과 시 관리자에게 알림을 발송합니다 (예: 총중량 초과, 이상 데이터 감지).

**User Story**: 관리자로서, 이상 상황 발생 시 즉시 알림을 받고 싶습니다. 그래야 신속하게 대응할 수 있습니다.

**Acceptance Criteria**:
- [ ] 임계값 설정 가능
- [ ] 초과 시 알림 발송 (푸시/이메일)
- [ ] 알림 이력 조회 가능

## 3. 비기능 요구사항 (NFR)

### NFR-001: 동시 접속자 처리
**우선순위**: HIGH | **신뢰도**: 90%
**출처**: 요구사항_정의서.csv (REQ-018)

웹 시스템은 동시 접속 50명 이상을 지원해야 합니다.

### NFR-002: 앱 응답속도
**우선순위**: HIGH | **신뢰도**: 90%
**출처**: 요구사항_정의서.csv (REQ-019)

모바일 앱 화면 로딩은 3초 이내여야 합니다.

### NFR-003: 사용자 인증 및 권한 관리
**우선순위**: HIGH | **신뢰도**: 92%
**출처**: 기술_아키텍처_스펙.md (보안 설계), 요구사항_정의서.csv (REQ-020)

웹은 JWT 기반 인증, Role-based Access Control을 적용합니다. 모바일 앱은 JWT + Refresh Token, 생체 인증을 지원합니다.

### NFR-004: 데이터 암호화
**우선순위**: HIGH | **신뢰도**: 92%
**출처**: 이메일_스레드.txt (보안 요구사항), 요구사항_정의서.csv (REQ-021)

전송 구간 TLS 1.2 이상, 저장 데이터 AES-256 암호화(개인정보), 로그 민감정보 마스킹을 적용합니다.

### NFR-005: 시스템 가용성
**우선순위**: MEDIUM | **신뢰도**: 88%
**출처**: 요구사항_정의서.csv (REQ-022)

연간 99.5% 이상 가용성을 보장합니다 (AWS Multi-AZ 구성).

### NFR-006: 반응형 웹 및 다크모드
**우선순위**: MEDIUM | **신뢰도**: 85%
**출처**: 슬랙_대화기록.txt (한지민 발언), 요구사항_정의서.csv (REQ-023, REQ-024)

PC/태블릿에서 최적화된 화면을 제공하고, 관제실 야간 근무를 위한 다크모드를 지원합니다. 고대비 모드도 고려합니다.

### NFR-007: 접근성 및 사용성
**우선순위**: MEDIUM | **신뢰도**: 90%
**출처**: 운전기사_인터뷰.md (주의사항)

고령 운전기사를 위해 큰 글씨, 간단한 UI, 한손 조작을 지원합니다. 디지털 소외 계층을 위해 기존 방식(전광판, 수기 전표) 병행 및 SMS 알림 옵션을 제공합니다.

## 4. 제약조건

### CONST-001: 기존 인디케이터 활용
**출처**: 킥오프_회의록.txt (L27)
기존 계량대 인디케이터(저울) 3대를 그대로 활용해야 합니다. 장비 교체는 범위 외입니다.

### CONST-002: ERP 연동 보안 요구사항
**출처**: 이메일_스레드.txt (이미선 대리 발언)
ERP 연동 시 OAuth 2.0 인증, VPN/전용선 접근, IP Whitelist, TLS 1.2 이상, 민감정보 암호화가 필수입니다.

### CONST-003: 인디케이터 프로토콜
**출처**: 슬랙_대화기록.txt (박민수 발언)
A사 2대, B사 1대 인디케이터의 시리얼 통신 프로토콜이 상이하여 각각 파서가 필요합니다.

## 5. 마일스톤

### M1. 요구사항 분석 완료
요구사항 수집, 분석 및 PRD 확정
**산출물**:
- 요구사항 정의서
- PRD 문서
- UI/UX 벤치마킹 자료

### M2. 설계 완료
시스템 아키텍처, DB 설계, API 설계, UI/UX 설계 완료
**산출물**:
- 기술 아키텍처 문서 (TRD)
- DB 설계서
- API 명세서
- UI/UX 디자인

### M3. 개발 완료
웹 시스템, 모바일 앱, 엣지 서버, 연동 모듈 개발 완료
**산출물**:
- 웹 시스템
- 모바일 앱 (iOS/Android)
- 엣지 수집 프로그램
- 연동 모듈

### M4. 테스트 완료
통합 테스트, 사용자 테스트, 성능 테스트 완료
**산출물**:
- 테스트 결과 보고서
- 사용자 매뉴얼

### M5. 오픈
시스템 오픈 및 안정화
**산출물**:
- 운영 매뉴얼
- 교육 자료

## 6. 미해결 사항

- **[DECISION]** B사 인디케이터 프로토콜 문서 확보 필요 (제조사 연락 대기중)
  - 제안: A사 프로토콜과 유사할 경우 최소 수정으로 대응 가능
- **[QUESTION]** iOS 앱 배포를 위한 Apple Developer 계정 및 인증서 발급 필요
  - 제안: 프로젝트 초기 단계에서 계정 발급 진행
- **[RISK]** 현장 네트워크 환경(VPN 연결) 테스트 필요
  - 제안: 현장 방문 시 네트워크 테스트 병행

## 출처 문서

이 PRD는 다음 문서들을 기반으로 생성되었습니다:

1. 킥오프_회의록.txt
2. 이메일_스레드.txt
3. 슬랙_대화기록.txt
4. 운전기사_인터뷰.md
5. 기술_아키텍처_스펙.md
6. 기능_명세서.json
7. 요구사항_정의서.csv
8. 계량_데이터_현황.xlsx
9. 프로젝트_제안서.docx
10. 프로젝트_발표자료.pptx
11. 모바일_앱_와이어프레임.png
12. 웹_대시보드_와이어프레임.png

---
*이 문서는 PRD 자동 생성 시스템에 의해 작성되었습니다.*
